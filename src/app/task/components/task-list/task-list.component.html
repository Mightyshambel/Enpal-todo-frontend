<div class="container">
    <mat-card class="card-layout">
      <mat-card-header>
        <mat-card-title> Todo List</mat-card-title>
      </mat-card-header>
      <mat-card-content class="form-container">
        @if (selectedIndex >= 0) {
          <div class="error-container">
            <p>Editing task</p>
          </div>
        }
        <div >
          <mat-form-field appearance="outline">
            <mat-label>Add task</mat-label>
            <input matInput  [(ngModel)]="description">
            @if (selectedIndex >=0) {
            <mat-icon matSuffix (click)="updateItem()">save_as</mat-icon>
            } @else {
              <mat-icon matSuffix  (click)="save()">save</mat-icon>
            }
  
          </mat-form-field>
        
  
        @for (item of todoList(); track item.id; let i = $index) {
          <div class="listing">
            <div>
              <mat-checkbox (click)="checkmarkChanged(i)" [disabled]="selectedIndex>=0">
                <span [ngClass]="item.done ? 'crossover' : ''">{{item.description}}</span>
              </mat-checkbox>
            </div>
            @if (selectedIndex < 0) {
              <div>
                @if (!item.done) {
                  <mat-icon matSuffix class="edit" (click)="editItem(i, item)">edit</mat-icon>&nbsp;
                }
                <mat-icon matSuffix class="delete" (click)="deleteConfirmation(i)">delete</mat-icon>
              </div>
            }
  
          </div>
        } @empty {
          <div class="error-container">
          <p>No Tasks yet</p>
        </div>
        }
        </div>
      </mat-card-content>
    </mat-card>
  </div>
